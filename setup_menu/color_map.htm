<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Color Map</title>
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta name="Microsoft Theme" content="user-man 010, default">
<meta name="Microsoft Border" content="t, default">
</head>

<body bgcolor="#FFFFCC" text="#000000" link="#006600" vlink="#993333" alink="#CC6600"><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td><!--mstheme--><font face="Times New Roman">

<p align="center"><font size="6"><strong><img src="_derived/color_map.htm_cmp_user-man010_bnr.gif" width="600" height="60" border="0" alt="Color Map"></strong></font><br>
<nobr>[&nbsp;<a href="../index.htm">Home</a>&nbsp;]</nobr> <nobr>[&nbsp;<a href="setup_menu.htm">Up</a>&nbsp;]</nobr> <nobr>[&nbsp;<a href="datasets.htm">Datasets</a>&nbsp;]</nobr> <nobr>[&nbsp;<a href="height_plane.htm">Height&nbsp;Plane</a>&nbsp;]</nobr> <nobr>[&nbsp;Color&nbsp;Map&nbsp;]</nobr> <nobr>[&nbsp;<a href="contour_lines.htm">Contour&nbsp;Lines</a>&nbsp;]</nobr> <nobr>[&nbsp;<a href="display_settings.htm">Display&nbsp;Settings</a>&nbsp;]</nobr></p>
<p align="center">&nbsp;</p>

<!--mstheme--></font></td></tr><!--msnavigation--></table><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><!--msnavigation--><td valign="top"><!--mstheme--><font face="Times New Roman"><p>The Color Map tool is a way to display data in addition to the <a href="height_plane.htm">Height Plane</a>.<span style="mso-spacerun: yes">&nbsp;The
color map is a linear scale of colors which represent the data values at each
point on a surface. It can be used to display a different data layer from the
height plane, or it can reinforce the height plane data.&nbsp;</span></p>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">Changing the Color Map Plane<!--mstheme--></font></h2>
<p class="MsoBodyText">The color map plane determines which data the color map
will represent.<span style="mso-spacerun: yes"> </span>To choose a new color map plane, choose <b style="mso-bidi-font-weight:normal">Color
Map</b> from the <b style="mso-bidi-font-weight:normal"><u>S</u>etup</b> menu</p>
<!--[if gte vml 1]></o:wrapblock><![endif]-->
This will bring up the <b style="mso-bidi-font-weight:normal">Color Map Setup</b>
 window:
<p><img border="0" src="../images/colormap_setup.jpg" width="696" height="301"></p>
<p>Click on the <b style="mso-bidi-font-weight:normal">Colormap plane</b> box,
pull down the drop-down<span style="mso-spacerun: yes">&nbsp; </span>menu, and
choose a plane. To turn off the color map, choose &quot;none&quot; as the
Colormap plane.&nbsp;</p>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">Change the Color Map<!--mstheme--></font></h2>
<p>Click on the <b style="mso-bidi-font-weight:normal">Colormap </b>box, pull
down the drop-down<span style="mso-spacerun: yes">&nbsp; </span>menu, and choose
a new color map.&nbsp;</p>
<p>Color maps vary in how well they represent different kinds of data. A color
map that varies in intensity, such as one that ranges from black to white, will
display data with high-frequency variation well. A color map that ranges in hue
or saturation, such as one that ranges from blue to gray to red, displays
lower-frequency variations well. Explore different color maps to display a
particular data set, as they will highlight different features of the
data.&nbsp;</p>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">Available Color Maps<!--mstheme--></font></h2>
<!--mstheme--></font><!--msthemelist--><table border="0" cellpadding="0" cellspacing="0" width="100%">
  <!--msthemelist--><tr><td valign="baseline" width="42"><img src="../_themes/user-man/blubul1a.gif" width="15" height="15" hspace="13"></td><td valign="top" width="100%"><!--mstheme--><font face="Times New Roman">blk-color1-color2-wht - These color maps increase in intensity from black (b),
    through color1 and color2, to white (w), so they are good for
    displaying detailed information.<!--mstheme--></font><!--msthemelist--></td></tr>
  <!--msthemelist--><tr><td valign="baseline" width="42"><img src="../_themes/user-man/blubul1a.gif" width="15" height="15" hspace="13"></td><td valign="top" width="100%"><!--mstheme--><font face="Times New Roman">blk-red-yellow-wht - This &quot;hot&quot; intensity color map that mimics the
    blackbody radiation spectrum.<!--mstheme--></font><!--msthemelist--></td></tr>
  <!--msthemelist--><tr><td valign="baseline" width="42"><img src="../_themes/user-man/blubul1a.gif" width="15" height="15" hspace="13"></td><td valign="top" width="100%"><!--mstheme--><font face="Times New Roman">color1-gray-color2 - These color maps vary in saturation, blending from
    color1, through gray, to color2, so they are good for
    displaying slowly-varying data, or data that has distinct regions.<!--mstheme--></font><!--msthemelist--></td></tr>
  <!--msthemelist--><tr><td valign="baseline" width="42"><img src="../_themes/user-man/blubul1a.gif" width="15" height="15" hspace="13"></td><td valign="top" width="100%"><!--mstheme--><font face="Times New Roman">rainbow-banded - A rainbow color map with constant bands of color.&nbsp;It
    is good for labeling regions of data that have similar data values.&nbsp;<!--mstheme--></font><!--msthemelist--></td></tr>
  <!--msthemelist--><tr><td valign="baseline" width="42"><img src="../_themes/user-man/blubul1a.gif" width="15" height="15" hspace="13"></td><td valign="top" width="100%"><!--mstheme--><font face="Times New Roman">none - If you choose &quot;none&quot; for a color map, and have a Colormap plane other than &quot;none&quot; selected, the plane data will be
    displayed with a smooth map from black to the surface color.&nbsp;<!--mstheme--></font><!--msthemelist--></td></tr>
<!--msthemelist--></table><!--mstheme--><font face="Times New Roman">
<p><img border="0" src="../images/color_bars.jpg" width="665" height="135"></p>
<p>Note: We do not provide the traditional rainbow color map, because several
scientific visualization studies have shown that it is misinterpreted and
misleading.&nbsp;In particular see this reference and the linked web site:</p>
<font color="#000000"><i><a href="http://www.research.ibm.com/people/l/lloydt/color/color.HTM">Data
Visualization: The End of the Rainbow.</a></i>&nbsp; B. Rogowitz and L. Treinish,
IEEE Spectrum, 35, n. 12, pp. 52-59, December, 1998.</font>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">ThermoMicroscopes Color Maps<!--mstheme--></font></h2>
<p>You can use your favorite color maps, or &quot;palettes&quot;, from the
ThermoMicroscopes SPMLab software. Simply copy the &quot;.pal&quot; file from
the SPML50/Palettes directory into the directory C:/Program Files/NanoManipulator/share/colormaps (This is the
default, your installation directory may be different). The NanoManipulator will
attempt to load and display the new color map - check the console window for
messages if the new color map does not appear as you expect.&nbsp;</p>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">Colormap control<!--mstheme--></font></h2>
<p>This widget allows you complete and flexible control over the way the <b>Colormap
plane</b> is displayed by the <b>Colormap</b>.&nbsp;</p>
<p>The arrows and bar on the left of the color scale allow you to adjust where
the minimum and maximum data values fall in the color map. The arrows and bar on
the right of the color scale allow you to adjust where the top and bottom colors
of the Colormap fall in the data range. If you adjust the arrows on the right,
the color scale will change to show the new mapping of colors.&nbsp;</p>
<p>By default, the top color of the Colormap is set to the maximum data value,
and the bottom color of the Colormap is set to the minimum data value. The
default can be recalled by pressing the <b>Autoscale</b> button.&nbsp;</p>
<p>Drag the arrows on the right side of the color bar to change the data values
that the min and max colors map to. The color bar will change to match the new
range. Dragging the arrows close together can be useful if there is a small
range of data of particular interest - any data values outside the range will be
shown with the min and max color values. The bar can then be dragged to shift
the data range viewed. This is similar to the &quot;window level&quot; tools
found in medical imaging applications.</p>
<p>If you want the min color or max color to correspond to a particular data
value, you can type that data value into the box next to the arrow, and hit
Enter. The arrow will move to that data value.&nbsp;</p>
<p>Drag the arrows on the left side of the color bar to change where the max and
min data values map to in the color map. Dragging these arrows closer together
can be useful if you only want to use part of a color map to represent the full
range of data; for instance, if you only want to use a few of the color bands in
the &quot;rainbow-banded&quot; color map, or you don't want any data to use black in the
&quot;blk-red-yellow-wht&quot; color map.&nbsp;</p>
<p>Note that you can drag the arrows on the left past each other. If you drag
the Data Min arrow to the top, and the Data Max arrow to the bottom, you have
effectively reversed the color map.&nbsp;See the illustration at the end of this
page.&nbsp;</p>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">Autoscale<!--mstheme--></font></h2>
<p>If you press this button, the color map control is reset so the color map min
and max are the same as the data's min and max values.&nbsp;The data's min and
max values are also re-calculated.&nbsp;</p>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999"><a name="Set Surface Color">Set Surface Color</a><!--mstheme--></font></h2>
<p>This button will allow you to
change the surface color. It brings up a standard color dialog:</p>
<p align="center"><img border="0" src="../images/rulergrid_color.gif" width="591" height="466"></p>
<p align="left">Choose the color you want the surface to have, and click <b>OK</b>.
The Colormap will be set to &quot;none&quot;. If the Colormap plane is also
&quot;none&quot;, the surface will be displayed in the solid color you chose. If
the Colormap plane is a data plane, the surface will be colored with a color map
from black to the surface color you chose.</p>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">Calculate Data Planes<!--mstheme--></font></h2>
<p>This button allows easy access to the <a href="../analysis_menu/calculate_data_planes.htm">Calculate Data Planes</a>
dialog in the <a href="../analysis_menu/analysis_menu.htm">Analysis Menu</a>. It
is often desirable to create a <b>flatten plane</b> to display as a color map,
because the sample substrate often has a slope which is difficult to eliminate
by positioning the sample under the SPM scanner. Instead, you can have the data
automatically leveled using a <b>flatten plane</b>. </p>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">Drift compensation<!--mstheme--></font></h2>
<p>The color map is designed to compensate for drift. During an experiment, the
sample or sample holder will often change size due to temperature changes. This
causes the data to shift up or down in successive scans. The color map will
remember the average of the first scan line's data when the color map was
applied, and when a new first scan line is acquired, the color map is shifted so
the average of the first scan line's data stays in the same place in the color
map. So the color map stays approximately the same for the new scan.&nbsp;</p>
<p>Press <b>Autoscale</b> to make sure the color map is valid for the whole
surface. Otherwise the color map for the previous scan's data may not be
comparable to the current scan data's color map.&nbsp;</p>
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">Examples<!--mstheme--></font></h2>
<p>Here are some examples of color maps. Here's what you get by default, or when
you press Autoscale, with the blk-blue-cyan-wht color map and a <a href="../analysis_menu/calculate_data_planes.htm">flatten
plane</a> created from the adeno_spill_dna.tfr
sample data file: </p>
<p class="MsoBodyText"><img border="0" src="../images/colorbar_autoscale.jpg" width="388" height="301"> <img border="0" src="../images/sv_autoscale.jpg" width="532" height="400">
<p class="MsoBodyText">&nbsp;<p class="MsoBodyText">Next we adjust the Color max/min
arrows. Our goal is to show variations in the substrate, and show the DNA.<p class="MsoBodyText"><img border="0" src="../images/colorbar_adjusted.gif" width="388" height="301">
<img border="0" src="../images/sv_adjusted.jpg" width="532" height="400">
<p class="MsoBodyText">&nbsp;<p class="MsoBodyText">Also note that you can
reverse a color map. Using the blk-red-yellow-wht color map, we invert the Data min/max
arrows:
<p class="MsoBodyText"><img border="0" src="../images/colorbar_inverted.jpg" width="388" height="301"> <img border="0" src="../images/sv_inverted.jpg" width="532" height="400">
<h2><!--mstheme--><font face="Century Gothic, Arial, Helvetica" color="#339999">Make your own color map<!--mstheme--></font></h2>
<p>To make your own color map, you simply need to copy an existing color map
file and edit it. Use a text editor like Notepad or WordPad to open one of the
color map files in C:/Program Files/NanoManipulator/share/colormaps (This is the
default, your installation directory may be different), then save the file under
a different name in the same directory.<p>Here's the contents of the
purple-gray-cyan color map file:<!--mstheme--></font><pre>Colormap
Value	Red	Green	Blue	Alpha
-----------------------------------------------------
0	204	0	204	255
0.5	136	136	136	255
1	0	204	204	255
</pre><!--mstheme--><font face="Times New Roman"><p>Leave the first three lines alone, and edit the numbers to change the color
map. The first line should always be value zero, and the last line should always
be value 1. Add any number of lines that you want, with the value always
increasing. The red, green and blue values can be any number from 0 to 255, but
the Alpha value should always be 255. You can use the <b>Surface Color</b>
dialog to see the correspondence between red, green and blue values and
colors.&nbsp; <p>When you restart the NanoManipulator,
it will attempt to load your new color map. If your new color map does not
appear or is different than you expect, check the console window for message
about problems loading the color maps.<!--mstheme--></font><!--msnavigation--></td></tr><!--msnavigation--></table></body>

</html>
